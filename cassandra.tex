\chapter{Cassandra}

\begin{wrapfigure}{l}{0.4\textwidth}
  \vspace{-70pt}
  \begin{center}
    \includegraphics[width=0.38\textwidth]{cassandra.png}
  \end{center}
  \vspace{-10pt}
\end{wrapfigure}
Apache Cassandra is an open source distributed database management system. It is an Apache Software Foundation top-level project designed to handle very large amounts of data spread out across many commodity servers while providing a highly available service with no single point of failure. It is a NoSQL solution that was initially developed by Facebook and powered their Inbox Search feature until late 2010. Jeff Hammerbacher, who led the Facebook Data team at the time, has described Cassandra as a BigTable data model running on an Amazon Dynamo-like infrastructure.

Cassandra provides a structured key-value store with tunable consistency. Keys map to multiple values, which are grouped into column families. The column families are fixed when a Cassandra database is created, but columns can be added to a family at any time. Furthermore, columns are added only to specified keys, so different keys can have different numbers of columns in any given family.

The values from a column family for each key are stored together. This makes Cassandra a hybrid data management system between a column-oriented DBMS and a row-oriented store. Additional features include: using the BigTable way of modeling, eventual consistency, and the Gossip protocol, a master-master way of serving read and write requests inspired by Amazon's Dynamo.

\section{Short specification}

\begin{itemize}
  \item \textbf{Written in:} Java
  \item \textbf{Main point:} Best of BigTable and Dynamo
  \item \textbf{License:} Apache License 2
  \item \textbf{Protocol:} Custom, binary (Thrift)
  \item \textbf{Web site:} \href{http://cassandra.apache.org/}{cassandra.apache.org}
\end{itemize}

\section{Main features}

\subsection{Decentralized}

Every node in the cluster has the same role. There is no single point of failure. Data is distributed across the cluster (so each node contains different data), but there is no master as every node can service any request.

\subsection{Supports replication and multi data center replication}

Replication strategies are configurable. Cassandra is designed as a distributed system, for deployment of large numbers of nodes across multiple data centers. Key features of Cassandraâ€™s distributed architecture are specifically tailored for multiple-data center deployment, for redundancy, for failover and disaster recovery.

\subsection{Scalability}

Read and write throughput both increase linearly as new machines are added, with no downtime or interruption to applications.

\subsection{Fault-tolerant}

Data is automatically replicated to multiple nodes for fault-tolerance. Replication across multiple data centers is supported. Failed nodes can be replaced with no downtime.

\subsection{Tunable consistency}

Writes and reads offer a tunable level of consistency, all the way from <<writes never fail>> to <<block for all replicas to be readable>>, with the quorum level in the middle.

\subsection{MapReduce support}

Cassandra has Hadoop integration, with MapReduce support. There is support also for Apache Pig and Apache Hive.

\subsection{Query language}

CQL (Cassandra Query Language) was introduced, an SQL-like alternative to the traditional RPC interface. Language drivers are available for Java (JDBC) and Python (DBAPI2).

\section{Strengths}

\section{Weaknesses}

\section{Tips}

\section{Use cases}

\begin{itemize}
  \item Storing Log Data
  \item Analytics
  \item Social networks
  \item Mailing systems
\end{itemize}